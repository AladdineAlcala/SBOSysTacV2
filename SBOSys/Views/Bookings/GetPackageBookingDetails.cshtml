@using SBOSys.HtmlHelperClass
@using SBOSys.ViewModel
@model TransactionDetailsViewModel



@{
    var fullname = Utilities.getfullname(Model.Customer.lastname, Model.Customer.firstname, Model.Customer.middle);
}
@*<section class="content-header">
    <h1>
        Transaction
        <small>#@Model.transactionId</small>
    </h1>
</section>*@

<div class="pad margin no-print" style="padding-left: 0px !important; padding-right: 0px !important; margin-bottom: 0px; padding-bottom: 0px;">
    <div class="callout callout-info" style="margin-bottom: 5px; padding-bottom: 8px;">
        <h4><i class="fa fa-info" style="padding: 0px; margin: 0px;"></i> @Model.Package_Trans.p_descripton </h4>

    </div>
</div>
<div class="row" style="margin-bottom: 10px;">
    <div class="col-sm-6 col-sm-offset-6 text-right">
        <div class="button-group" style="margin-right: 14px;">
            <a class="btn bg-olive btn-flat" href="@Url.Action("Index", "Bookings")"><i class="fa fa-reply"></i> Bookings </a>
            <a class="btn bg-olive btn-flat" href="@Url.Action("GetPackageonBooking", "Bookings",new {transId =Model.transactionId})"><i class="fa fa-reply"></i> Menus </a>
            <button class="btn bg-olive btn-flat" type="button" data-id="@Model.transactionId" id="addDiscount"><i class="fa fa-rouble"></i> Discount </button>
            <a class="btn bg-olive btn-flat" href="@Url.Action("PrintContractOption","Bookings",new {transId=Model.transactionId})"><i class="fa fa-print"></i> Print Contract </a>
        </div>
    </div>
</div>


<section class="invoice" style="margin-top: 0px; padding-top: 0px;">
    <div class="row">
        <div class="col-xs-12">
            <h2 class="page-header">
                <i class="fa fa-address-card"></i> @fullname
                <small class="pull-right bookdetails"><b>Trn Date:</b> @Model.Booking_Trans.transdate.Value.ToString("MMM d, yyyy h:mm tt")</small>
            </h2>

        </div>
    </div>

    <div class="row">

        <div class="col-sm-6">

            <div class="control-label text-bold col-sm-4"> Event Details</div>
            <br />
            <div class="control-label col-sm-4"> OCCASION:</div> <span class="bookdetails">@Html.DisplayFor(m => m.Booking_Trans.occasion)</span>
            <br />
            <div class="control-label col-sm-4"> VENUE:</div> <span>@Html.DisplayFor(m => m.Booking_Trans.venue,new {@class=""})</span>
            <br />
            <div class="control-label col-sm-4"> DATE:</div> <span> @Model.Booking_Trans.startdate.Value.ToString("MMM d, yyyy h:mm tt")</span>
             <br />
            <div class="control-label col-sm-4"> EVENTCOLOR:</div> <span> @Html.DisplayFor(m => m.Booking_Trans.eventcolor) </span>
            <br />
            <div class="control-label col-sm-4"> TYPE OF SERVICE:</div><span>@Html.DisplayFor(m => m.Booking_Trans.ServiceType.servicetypedetails)</span>
            <br />

        </div>

        <div class="col-sm-6">
            <div class="control-label text-bold col-sm-6"> Package Details</div>
            <br />
            <div class="control-label col-sm-4"> PACKAGE:</div> <span> @Html.DisplayFor(m => m.Package_Trans.p_descripton)</span>
            <br />
            <div class="control-label col-sm-4"> AMOUNT PER PAX:</div> <span>@Html.DisplayFor(m => m.Package_Trans.p_amountPax)</span>

            <br />
            <div class="control-label col-sm-4"> No. OF HEADS:</div> @Html.DisplayFor(m => m.Booking_Trans.noofperson)

            <br />
            <div class="control-label col-sm-4"> DP:</div> Php @String.Format("{0:N}", Model.TotaDp)

            <br />

            <div class="control-label col-sm-4"> FP:</div> Php @String.Format("{0:N}", Model.Fullpaymnt)
            <br />

        </div>
    </div>
    <div class="row" style="margin-top: 10px;">
        <div class="col-sm-6 col-sm-offset-6">



            <div class="col-xs-10">
                <p class="lead" style="margin-bottom: 10px;">AMOUNT DUE</p>
                <div class="table-responsive" id="amountDue">
                    @{

                        Html.RenderAction("getPartialView_AmountDue",new { transId = Model.transactionId });
                    }

                </div>
            </div>

        </div>
    </div>

</section>


<div class="modal fade" id="modalAddDiscount">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Add Booking Discount</h4>
            </div>
            <div class="modal-body" id="modalcontent">

            </div>

        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->


@section scripts
{
    <script type="text/javascript">


        var bookingsUrl = {

            bookUrl_AddDiscount: "@Url.Action("AddBookingDiscount", "Bookings")",
            bookUrl_SelectDiscount: "@Url.Action("GetDiscountDetails", "Bookings")",
            bookurl_bookingdue:"@Url.Action("GetDiscountDetails", "Bookings",new {transId="tId"})"
        }
    </script>

    
    @Scripts.Render("~/Scripts/js_bookings.js")

}